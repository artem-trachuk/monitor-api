(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{265:function(e){e.exports={"facebook.login":"Log in With Facebook","interface.issue":"Issues","interface.addIssue":"Add new issue","top.home":"Home","top.contacts":"Contacts","top.networks":"Networks","top.maps":"Maps","interface.addHub":"Add hub","interface.permissions":"Permissions","interface.addCompany":"Add company","companyEditor.editCompany":"Edit company","companyEditor.address":"Address","interface.phone":"Phone","companyEditor.email":"Email","editor.note":"Note","companyEditor.uploadPhotos":"Upload photos","companyEditor.uploadDocuments":"Upload documents","editor.save":"Save","companyEditor.validationError":"Please enter a value","companyEditor.edit":"Edit","companyEditor.documents":"Docs","navigation.toView":"To view","editor.uploadLogo":"Upload logo","editor.name":"Name","editor.company":"Company","common.hub":"Hub","editor.ip":"IP","editor.serial":"Serial number","editor.ptz":"Pan\u2013tilt\u2013zoom","interface.hasIssue":"Has issue","interface.hasIssues":"Has issues ({count})","interface.noIssue":"No issue","interface.search":"Search","home.greeting":"Hello, {name}! Checkout current issues.","interface.language":"Language","interface.bookmarks":"Bookmarks","interface.signOut":"Sign Out","string.error":"Oops! Something went wrong...","string.companyHasNoHubs":"The company has no hubs.","interface.addHubToCompany":"Add hub to {company}","string.noData":"Looks like we have nothing to show you.","interface.addContact":"Add contact","string.noHubs":"Looks like you don't have access to hubs or have not created at least one.","interface.addCamera":"Add camera","interface.addNetDev":"Add network device","interface.addRecorder":"Add recorder","interface.iptable":"IP table","interface.reportbug":"Report a bug","interface.collapseComments":"Collapse comments","about_us.title":"About us","interface.reply":"Reply","interface.addReply":"Add Reply","interface.solved":"Problem was solved"}},374:function(e,a){},376:function(e,a,t){e.exports=t.p+"static/media/warehouseSolid.6a497d1c.svg"},400:function(e){e.exports={"facebook.login":"\u0423\u0432\u0456\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Facebook","interface.issue":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0438","interface.addIssue":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443","top.home":"\u0414\u043e\u043c\u0430\u0448\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430","top.contacts":"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438","top.networks":"\u041c\u0435\u0440\u0435\u0436\u0456","top.maps":"\u041a\u0430\u0440\u0442\u0430","interface.addHub":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0445\u0430\u0431","interface.permissions":"\u041f\u0440\u0430\u0432\u0430","interface.addCompany":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044e","companyEditor.editCompany":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044e","companyEditor.address":"\u0410\u0434\u0440\u0435\u0441\u0430","interface.phone":"\u0422\u0435\u043b\u0435\u0444\u043e\u043d","companyEditor.email":"\u041f\u043e\u0448\u0442\u043e\u0432\u0430 \u0441\u043a\u0440\u0438\u043d\u044c\u043a\u0430","editor.note":"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430","companyEditor.uploadPhotos":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e","companyEditor.uploadDocuments":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438","editor.save":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438","companyEditor.validationError":"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f","companyEditor.edit":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438","companyEditor.documents":"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438","navigation.toView":"\u0414\u043e \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443","editor.uploadLogo":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043b\u043e\u0433\u043e\u0442\u0438\u043f","editor.name":"\u041d\u0430\u0437\u0432\u0430","editor.company":"\u041a\u043e\u043c\u043f\u0430\u043d\u0456\u044f","common.hub":"\u0425\u0430\u0431","editor.ip":"IP","editor.serial":"\u0421\u0435\u0440\u0456\u0439\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440","editor.ptz":"Pan\u2013tilt\u2013zoom","interface.hasIssue":"\u0404 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430","interface.hasIssues":"\u0404 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 ({count})","interface.noIssue":"\u041d\u0435\u043c\u0430\u0454 \u043f\u0440\u043e\u0431\u043b\u0435\u043c","interface.search":"\u041f\u043e\u0448\u0443\u043a","home.greeting":"\u0412\u0456\u0442\u0430\u0454\u043c\u043e, {name}! \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u044c\u0442\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456.","interface.language":"\u041c\u043e\u0432\u0430","interface.bookmarks":"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438","interface.signOut":"\u0412\u0438\u0439\u0442\u0438","string.error":"\u041e\u0442\u0430\u043a\u043e\u0457. \u0429\u043e\u0441\u044c \u0441\u0442\u0430\u043b\u043e\u0441\u044f...","string.companyHasNoHubs":"\u0426\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044f \u043d\u0435 \u043c\u0430\u0454 \u0445\u0430\u0431\u0456\u0432.","interface.addHubToCompany":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0445\u0430\u0431 \u0434\u043e {company}","string.noData":"\u0421\u0445\u043e\u0436\u0435, \u043d\u0430\u043c \u043d\u0435\u043c\u0430 \u0449\u043e \u0432\u0430\u043c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0438.","interface.addContact":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442","string.noHubs":"\u0421\u0445\u043e\u0436\u0435, \u0443 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0434\u043e \u0445\u0430\u0431\u0456\u0432 \u0430\u0431\u043e \u0432\u0438 \u043d\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0445\u043e\u0447\u0430 \u0431 \u043e\u0434\u0438\u043d.","interface.addCamera":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0430\u043c\u0435\u0440\u0443","interface.addNetDev":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043c\u0435\u0440\u0435\u0436\u043e\u0432\u0435 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f","interface.addRecorder":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0440\u0435\u043a\u043e\u0440\u0434\u0435\u0440","interface.iptable":"\u0422\u0430\u0431\u043b\u0438\u0446\u044f IP","interface.reportbug":"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0443","about_us.title":"\u041f\u0440\u043e \u043d\u0430\u0441","about_us.description":"Monitor PS - \u0441\u0435\u0440\u0432\u0456\u0441, \u0440\u043e\u0437\u0440\u043e\u0431\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0431\u0430\u0437\u0456 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457 \u041f\u043b\u0430\u043d\u0435\u0442\u0430-\u042e\u0413, \u044f\u043a\u0430 \u0437\u0430\u0439\u043c\u0430\u0454\u0442\u044c\u0441\u044f \u0431\u0443\u0434\u0443\u0432\u0430\u043d\u043d\u044f\u043c \u043a\u043e\u043c\u0443\u043d\u0456\u043a\u0430\u0446\u0456\u0439\u043d\u0438\u0445 \u043c\u0435\u0440\u0435\u0436, \u043c\u0435\u0440\u0435\u0436 \u0432\u0456\u0434\u0435\u043e\u0441\u043f\u043e\u0442\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0442\u0430 \u0456\u043d. \u0421\u0435\u0440\u0432\u0456\u0441 \u043d\u0430\u0434\u0430\u0454 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0442\u0438 \u0432 \u043e\u0434\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0435 \u043e\u0431\u043b\u0430\u043d\u0430\u043d\u043d\u044f, \u0441\u0442\u0435\u0436\u0438\u0442\u0438 \u0437\u0430 \u0432\u0438\u043d\u0438\u043a\u043d\u0435\u043d\u0438\u043c\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438 \u0442\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u043e\u043c \u0457\u0445 \u0432\u0438\u0440\u0456\u0448\u0435\u043d\u043d\u044f.","about_us.team":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430","interface.collapseComments":"\u0417\u0433\u043e\u0440\u043d\u0443\u0442\u0438 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456","interface.reply":"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0441\u0442\u0438","interface.addReply":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c","interface.solved":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0432\u0438\u0440\u0456\u0448\u0435\u043d\u043e"}},402:function(e,a,t){e.exports=t.p+"static/media/now.273f0bda.png"},415:function(e,a,t){e.exports=t(746)},420:function(e,a,t){},550:function(e,a){},556:function(e,a){},744:function(e,a,t){},746:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(86),l=t.n(c),i=t(25),o=t(26),m=t(28),s=t(27),u=t(29),d=t(133),p=(t(420),t(772)),E=t(22),h=t(771),f=t(32),g=t.n(f),b=(t(96),t(373)),v=t.n(b),y=window.location.protocol+"//"+window.location.hostname+"/",k=v.a.create({baseURL:y+"api/"}),O="REQUEST_ISSUES",C="SET_ISSUES_ERROR",w="RECEIVE_ISSUES";function N(e){return{type:O,payload:e}}function j(e){return{type:C,payload:e}}function I(e,a){return{type:w,payload:{data:e,resource:a}}}function R(e,a){return function(t,n){t(N(e)),g.a.auth().currentUser.getIdToken(!1).then(function(n){k.get("issues?"+e+"="+a,{headers:{Authorization:"Bearer "+n}}).then(function(n){t(I(n.data.result,a||e))},function(a){t(j({error:a,resource:e}))})},function(a){return t(j({error:a,resource:e}))})}}var S="SET_NAVIGATED_LINK";function _(e){return{type:S,payload:e}}var L=t(753),F=function(e){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"column"},r.a.createElement(L.a,{active:!0,inline:"centered",size:"medium"}))))},A=t(774),x=t(764),T=t(7),U=t(79),P=t(754),D=function(e){var a=e.issue;return r.a.createElement(x.a,null,r.a.createElement(x.a.Avatar,{src:a.user.picture}),r.a.createElement(x.a.Content,null,r.a.createElement(x.a.Author,{as:"a"},a.user.name),r.a.createElement(x.a.Metadata,null,r.a.createElement("div",null,r.a.createElement(U.a,{name:"industry"}),r.a.createElement(P.a,{to:"/r/companies/view/"+a.company._id},a.company.name)," ",r.a.createElement(U.a,{name:"warehouse"}),r.a.createElement(P.a,{to:"/r/hubs/view/"+a.hub._id},a.hub.name))),r.a.createElement(x.a.Text,null,a.message)))},z=t(266),M=t(68),B=t(376),G=t.n(B),H=Object(z.a)(Object(z.b)(function(e){return{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyD3XXK2YwPFB7amCLqkSg4II77EFu0G9R8&language="+e.userR.language,loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}}),M.withScriptjs,M.withGoogleMap)(function(e){var a={scaledSize:{height:20,width:32},url:G.a};if(e.input){var t=e.input,n=t.value,c=t.onChange;return r.a.createElement(M.GoogleMap,{mapTypeId:"satellite",onClick:function(e){return c({lat:e.latLng.lat(),lng:e.latLng.lng()})},defaultZoom:13,defaultCenter:n||e.defaultCenter},(e.marker||n)&&r.a.createElement(M.Marker,{position:e.marker||n}),e.markers&&e.markers.map(function(e){return r.a.createElement(M.Marker,{position:e})}))}return r.a.createElement(M.GoogleMap,{mapTypeId:"satellite",defaultZoom:13,defaultCenter:e.marker||e.defaultCenter},r.a.createElement(r.a.Fragment,null,e.marker&&r.a.createElement(M.Marker,{position:e.marker}),e.markers&&e.markers.map(function(e){return r.a.createElement(M.Marker,{key:e._id,position:e.LatLng,icon:a},r.a.createElement(M.InfoWindow,null,r.a.createElement("div",null,e.issue)))})))}),V=Object(E.b)(function(e){return{userR:e.userReducer}},{})(H),W=function(e){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"one column row center aligned"},r.a.createElement("div",{className:"column"},r.a.createElement(A.a,{size:"medium"},r.a.createElement(T.b,{id:"home.greeting",description:"Greeting to welcome the user to the app",values:{name:r.a.createElement("b",null,e.displayName)}})))),r.a.createElement("div",{className:"stackable two column row"},r.a.createElement("div",{className:"column"},r.a.createElement(x.a.Group,null,e.issues.map(function(e){return r.a.createElement(D,{key:e._id,issue:e})}))),r.a.createElement("div",{className:"column"},r.a.createElement(V,{defaultCenter:e.defaultCenter,markers:e.issues.filter(function(e){return e.hub.LatLng}).map(function(e){return{_id:e._id,issue:e.message,LatLng:e.hub.LatLng}})})))))},q=function(e){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui centered column grid"},r.a.createElement("div",{className:"sixteen wide column center aligned"},r.a.createElement(A.a,{icon:!0},r.a.createElement(U.a,{name:"cloud",color:"blue"}),r.a.createElement(T.b,{id:"string.noData"}))),e.children&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column center aligned"},e.children))))},J=function(e){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui centered three column grid"},r.a.createElement("div",{className:"column center aligned"},r.a.createElement(A.a,{icon:!0},r.a.createElement(U.a,{name:"cloud",color:"red"}),r.a.createElement(T.b,{id:"string.error"}),e.error))))},K=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.setNavigatedLink("home"),this.props.getIssues("all")}},{key:"componentWillUnmount",value:function(){this.props.setNavigatedLink("")}},{key:"render",value:function(){var e=this.props.isFetching,a=this.props.issues,t=a.length,n=this.props.userReducer.user.displayName,c=this.props.userReducer.defaultCenter,l=this.props.error;return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(J,null),e&&0===t&&r.a.createElement(F,null),!e&&0===t&&r.a.createElement(q,null),t>0&&r.a.createElement(W,{displayName:n,issues:a,defaultCenter:c}))}}]),a}(n.Component),Q=Object(E.b)(function(e){var a=e.issuesReducer.all||[],t=e.issuesReducer.isIssuesFetching.all||!1;return{error:e.issuesReducer.issuesError.all||null,issues:a,isFetching:t,userReducer:e.userReducer}},function(e){return{getIssues:function(a,t){e(R(a,t))},setNavigatedLink:function(a){e(_(a))}}})(K),X="companies",Y="devices",Z=t(23),$="RECEIVE_ITEMS",ee="RECEIVE_ITEM",ae="REQUEST_API";function te(e,a){return function(t,n){t({type:ae}),g.a.auth().currentUser.getIdToken(!1).then(function(n){k.get(a?e+"/"+a:e,{headers:{Authorization:"Bearer "+n}}).then(function(n){t(a?function(e,a){return{type:ee,payload:e,resource:a}}(n.data.result,e):function(e,a){return{type:$,payload:e,resource:a}}(n.data.result,e))},function(e){})},function(e){})}}var ne=t(405),re=t(747),ce=t(756),le=t(766),ie=t(776),oe=t(160),me=t(765),se=function(e){var a=e.hub;return r.a.createElement("div",{className:"column",style:{marginBottom:"4vh"}},r.a.createElement(le.a,{raised:!0},r.a.createElement(le.a.Content,null,a.issues.length>0?r.a.createElement(ie.a,{trigger:r.a.createElement(oe.a,{color:"red",ribbon:"right"},r.a.createElement(T.c,{value:a.issues.length,one:r.a.createElement(T.b,{id:"interface.hasIssue"}),other:r.a.createElement(T.b,{id:"interface.hasIssues",values:{count:a.issues.length}})})),content:a.issues.map(function(e){return r.a.createElement("li",{key:e._id},e.message)})}):r.a.createElement(oe.a,{ribbon:"right"},r.a.createElement(T.b,{id:"interface.noIssue"})),r.a.createElement(le.a.Header,null,r.a.createElement(U.a,{size:"large",name:"warehouse"})," ",r.a.createElement(P.a,{to:"/r/hubs/view/"+a._id},a.name)),r.a.createElement(le.a.Description,null,r.a.createElement(me.a,{bulleted:!0,horizontal:!0,link:!0},a.devices&&r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a.Item,null,r.a.createElement(U.a,{name:"record"})," ",a.devices?a.devices.filter(function(e){return"camera"===e.deviceType}).length:0),r.a.createElement(me.a.Item,null,r.a.createElement(U.a,{name:"hdd"})," ",a.devices.filter(function(e){return"recorder"===e.deviceType}).length),r.a.createElement(me.a.Item,null,r.a.createElement(U.a,{name:"microchip"})," ",a.devices.filter(function(e){return"netdev"===e.deviceType}).length)),a.equipment&&r.a.createElement(me.a.Item,null,r.a.createElement(U.a,{name:"box"})," ",a.equipment.length))))))},ue=function(e){var a=e.company;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement(P.a,{to:"/r/companies/view/"+a._id},a.logo?r.a.createElement(ne.a,{size:"small",src:y+a.logo}):r.a.createElement(A.a,{as:"h1"},r.a.createElement(U.a,{name:"industry"})," ",r.a.createElement(A.a.Content,null,a.name))))),r.a.createElement("div",{className:"four column row stackable"},a.hubs&&a.hubs.length>0?a.hubs.map(function(e){return r.a.createElement(se,{key:e._id,hub:e})}):r.a.createElement("div",{className:"column"},r.a.createElement(T.b,{id:"string.companyHasNoHubs"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(re.a,{as:P.a,to:"/r/hubs/add/"+a._id+"/"+a.name},r.a.createElement(U.a,{name:"plus"})," ",r.a.createElement(T.b,{id:"interface.addHubToCompany",values:{company:a.name}})))),r.a.createElement(ce.a,null))},de=function(e){var a=e.companies;return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(re.a,{as:P.a,to:"/r/companies/add"},r.a.createElement(U.a,{name:"industry"})," ",r.a.createElement(T.b,{id:"interface.addCompany"})))),r.a.createElement(ce.a,null),a.map(function(e){return r.a.createElement(ue,{key:e._id,company:e})})))},pe=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.setNavigatedLink("networks"),this.props.getDataByAPI(X)}},{key:"componentWillUnmount",value:function(){this.props.setNavigatedLink("")}},{key:"render",value:function(){var e=this.props.dataReducer.isFetching,a=this.props.companies,t=a.length,n=this.props.error;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(J,null),e&&0===t&&r.a.createElement(F,null),!e&&0===t&&r.a.createElement(q,null,r.a.createElement(re.a,{as:P.a,to:"/r/companies/add"},r.a.createElement(U.a,{name:"industry"})," ",r.a.createElement(T.b,{id:"interface.addCompany"}))),t>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{companies:a})))}}]),a}(n.Component),Ee=Object(E.b)(function(e){var a=e.dataReducer[X]||[],t=e.issuesReducer.issuesError[X]||null;return{loadingReducer:e.loadingReducer,dataReducer:e.dataReducer,companies:a,error:t}},function(e){return{setNavigatedLink:function(a){e(_(a))},getDataByAPI:function(a,t){e(te(a,t))}}})(pe),he=t(777),fe=t(763),ge=t(379),be=t.n(ge),ve=function(e){var a=e.showCompany,t=e.contact,n=t.note?"NOTE:"+t.note+"\n":"",c="BEGIN:VCARD\nVERSION:3.0\nORG:"+t.company.name+"\nFN:"+t.name+"\nTEL;TYPE=WORK,VOICE:"+t.phone+"\n"+n+"END:VCARD";return r.a.createElement(le.a,null,r.a.createElement(le.a.Content,null,r.a.createElement(le.a.Header,null,r.a.createElement(he.a,{verticalAlign:"middle"},r.a.createElement(he.a.Column,{floated:"left",width:12},t.name),r.a.createElement(he.a.Column,{textAlign:"right",floated:"right",width:4},r.a.createElement(fe.a,{size:"mini",trigger:r.a.createElement(U.a,{name:"qrcode",size:"big"})},r.a.createElement(fe.a.Content,{style:{textAlign:"center"}},r.a.createElement(be.a,{value:c,size:256})))))),r.a.createElement(ce.a,null),r.a.createElement(le.a.Description,null,a&&r.a.createElement(A.a,{as:"h4"},r.a.createElement(U.a,{name:"industry"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.company"})),t.company.name)),r.a.createElement(A.a,{as:"h4"},r.a.createElement(U.a,{name:"phone"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"interface.phone"})),r.a.createElement("a",{href:"tel:"+t.phone},t.phone))),t.note&&r.a.createElement(A.a,{as:"h4"},r.a.createElement(U.a,{name:"sticky note"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.note"})),t.note)))))},ye=function(e){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"sixteen wide column"},r.a.createElement(le.a.Group,{className:"stackable",itemsPerRow:4},e.contacts.map(function(e){return r.a.createElement(ve,{showCompany:!0,key:e._id,contact:e})})))))},ke="REQUEST_CONTACTS",Oe="RECEIVE_CONTACTS",Ce="SET_CONTACTS_ERROR";function we(){return function(e){return e({type:ke}),g.a.auth().currentUser.getIdToken(!1).then(function(e){return k.get("contacts",{headers:{Authorization:"Bearer "+e}})}).then(function(a){return e((t=a.data.result,{type:Oe,payload:t}));var t},function(a){return e(function(e){return{type:Ce,payload:e}}(a))})}}var Ne=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.setNavigatedLink("contacts"),this.props.fetchContacts()}},{key:"componentWillUnmount",value:function(){this.props.setNavigatedLink("")}},{key:"render",value:function(){var e=this.props.allContacts.contacts,a=this.props.allContacts.isFetching,t=this.props.allContacts.error;return r.a.createElement(r.a.Fragment,null,a&&0===e.length&&r.a.createElement(F,null),t&&r.a.createElement(J,null),!a&&0===e.length&&r.a.createElement(q,null),e.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{contacts:e})))}}]),a}(n.Component),je=Object(E.b)(function(e){return{allContacts:e.contactsReducer.contacts}},function(e){return{fetchContacts:function(){return e(we())},setNavigatedLink:function(a){e(_(a))}}})(Ne),Ie=t(761),Re=t(762),Se=t(760),_e=t(770),Le=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.props.setNavigatedLink("")}},{key:"render",value:function(){var e=this,a=this.props,t=a.pristine,n=a.submitting,c=a.handleSubmit;return void 0!==this.props.currentLink&&void 0!==this.props.currentLink.resource?r.a.createElement(_e.a,{to:"/r/"+this.props.currentLink.resource+"/view/"+this.props.currentLink._id}):r.a.createElement(Ie.a,{onSubmit:c(function(a){return a._id?e.props.patchData(e.props.resource,a):e.props.postData(e.props.resource,a)})},r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},this.props.header,r.a.createElement("div",{className:"row stackable"},this.props.children,r.a.createElement("div",{className:"eight wide column"},r.a.createElement(Re.a,{name:"LatLng",component:V,defaultCenter:this.props.initialValues.LatLng?this.props.initialValues.LatLng:this.props.defaultCenter}))),r.a.createElement("div",{className:"sixteen wide column right aligned"},r.a.createElement(re.a,{type:"submit",icon:!0,labelPosition:"right",positive:!0,disabled:t||n},r.a.createElement(T.b,{id:"editor.save"})," ",r.a.createElement(U.a,{name:"save"}))))))}}]),a}(n.Component),Fe=Object(E.b)(function(e){return{defaultCenter:e.userReducer.defaultCenter,currentLink:e.navigationReducer.currentLink}},function(e){return{postData:function(a,t){e(function(e,a){return function(t,n){var r=new FormData;if(a.photos)for(var c=0;c<a.photos.length;c++)r.append("photos",a.photos.item(c));if(a.documents)for(var l=0;l<a.documents.length;l++)r.append("documents",a.documents.item(l));r.append("values",JSON.stringify(Object.assign({},Object(Z.a)({},a),{photos:void 0,documents:void 0}))),g.a.auth().currentUser.getIdToken(!1).then(function(a){k.post(e,r,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+a}}).then(function(a){t(_({resource:e,_id:a.data.result._id}))},function(e){})},function(e){})}}(a,t))},patchData:function(a,t){e(function(e,a){return function(t,n){var r=new FormData;if(a.logo&&r.append("logo",a.logo.item(0)),a.photos)for(var c=0;c<a.photos.length;c++)r.append("photos",a.photos.item(c));if(a.documents)for(var l=0;l<a.documents.length;l++)r.append("documents",a.documents.item(l));r.append("values",JSON.stringify(Object.assign({},Object(Z.a)({},a),{photos:void 0,documents:void 0}))),g.a.auth().currentUser.getIdToken(!1).then(function(n){k.patch(e+"/"+a._id,r,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+n}}).then(function(n){t(_({resource:e,_id:a._id}))},function(e){})},function(e){})}}(a,t))},setNavigatedLink:function(a){e(_(a))}}})(Object(Se.a)({form:"Editor"})(Le)),Ae=t(759),xe=function(e){var a=e.input,t=e.label,n=e.type,c=e.icon,l=e.iconPosition,i=e.meta,o=i.touched,m=i.error,s=i.warning;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,Object.assign({},a,{icon:c,iconPosition:l,placeholder:t,type:n})),o&&(m&&r.a.createElement(oe.a,{basic:!0,color:"red",pointing:!0},r.a.createElement(T.b,{id:m}))||s&&r.a.createElement("span",null,s)))},Te=function(e){return e||"number"===typeof e?void 0:"companyEditor.validationError"},Ue=function(e){var a=e.icon,t=e.text,n=e.input.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{as:"label",htmlFor:n,icon:!0,labelPosition:"right"},t,r.a.createElement(U.a,{name:a})),r.a.createElement("input",{name:n,hidden:!0,id:n,multiple:!0,type:"file",accept:"image/*",onChange:function(a){(0,e.input.onChange)(a.target.files)}}))},Pe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"eight wide column"},r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.name"})),r.a.createElement(Re.a,{icon:"industry",iconPosition:"left",name:"name",component:xe,type:"text",validate:Te})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"companyEditor.address"})),r.a.createElement(Re.a,{icon:"map marker alternate",iconPosition:"left",name:"address",component:xe,type:"text"})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"interface.phone"})),r.a.createElement(Re.a,{icon:"phone",iconPosition:"left",name:"phone",component:xe,type:"text"})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"companyEditor.email"})),r.a.createElement(Re.a,{icon:"at",iconPosition:"left",name:"email",component:xe,type:"text"})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.note"})),r.a.createElement(Re.a,{name:"note",component:"textarea",rows:3})),r.a.createElement(Re.a,{component:Ue,text:r.a.createElement(T.b,{id:"editor.uploadLogo"}),name:"logo",icon:"circle outline"}),r.a.createElement(Re.a,{component:Ue,text:r.a.createElement(T.b,{id:"companyEditor.uploadPhotos"}),icon:"file image",name:"photos"}),r.a.createElement(Re.a,{component:Ue,text:r.a.createElement(T.b,{id:"companyEditor.uploadDocuments"}),icon:"file pdf",name:"documents"})))},De=function(){return r.a.createElement("div",{className:"sixteen wide column center aligned"},r.a.createElement(A.a,{as:"h1"},r.a.createElement(U.a,{name:"industry"})," ",r.a.createElement(T.b,{id:"interface.addCompany"})))},ze=function(e){return r.a.createElement(Fe,{resource:X,initialValues:{},header:r.a.createElement(De,null)},r.a.createElement(Pe,null))};function Me(e,a){var t=function(t){function n(){return Object(i.a)(this,n),Object(m.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(u.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getDataByAPI(a,this.props.match.params.id)}},{key:"render",value:function(){var a=this.props.isFetching,t=this.props.items,n=this.props.match.params.id,c=t.find(function(e){return e._id===n});return r.a.createElement(r.a.Fragment,null,a&&!c&&r.a.createElement(F,null),!a&&!c&&r.a.createElement(q,null),c&&r.a.createElement(e,{item:c}))}}]),n}(n.Component);return Object(E.b)(function(e){return{items:e.dataReducer[a]||[],isFetching:e.dataReducer.isFetching}},function(e){return{getDataByAPI:function(a,t){e(te(a,t))}}})(t)}var Be=function(){return r.a.createElement("div",{className:"sixteen wide column center aligned"},r.a.createElement(A.a,{as:"h1"},r.a.createElement(U.a,{name:"industry"})," ",r.a.createElement(T.b,{id:"companyEditor.editCompany"})))},Ge=Me(function(e){var a=e.item;return r.a.createElement(Fe,{initialValues:Object(Z.a)({},a,{photos:void 0,documents:void 0,logo:void 0}),header:r.a.createElement(Be,null),resource:X},r.a.createElement(Pe,null))},X),He=function(e){return e.photos?e.photos.map(function(e){return r.a.createElement("div",{key:e.path,className:"three wide column middle aligned"},r.a.createElement(fe.a,{trigger:r.a.createElement(ne.a,{fluid:!0,src:y+e.path}),basic:!0,size:"small",closeIcon:!0},r.a.createElement(A.a,{icon:"file image",content:e.originalname}),r.a.createElement(fe.a.Content,null,r.a.createElement(ne.a,{fluid:!0,src:y+e.path}))))}):null},Ve=function(e){var a=e.company&&e.company.documents?e.company.documents.map(function(e){return r.a.createElement(me.a.Item,{as:"a",href:"/"+e.path,key:e.path},r.a.createElement(U.a,{name:"file"})," ",e.originalname)}):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ui row stackable"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"industry"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.name"})),e.company.name)),e.company.address&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"map marker alternate"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"companyEditor.address"})),e.company.address)),e.company.phone&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"phone"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"interface.phone"})),r.a.createElement("a",{href:"tel:"+e.company.phone},e.company.phone))),e.company.email&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"at"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"companyEditor.email"})),r.a.createElement("a",{href:"mailto:"+e.company.email},e.company.email))),e.company.note&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"sticky note"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.note"})),e.company.note))),e.company.LatLng?r.a.createElement("div",{className:"eight wide column"},r.a.createElement(V,{defaultCenter:{lat:46.5886146,lng:30.7918339},marker:e.company.LatLng||null})):null,a&&a.length>0&&r.a.createElement("div",{className:"eight wide column"},r.a.createElement(ce.a,null),r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"file pdf"}),r.a.createElement(A.a.Content,null,r.a.createElement(T.b,{id:"companyEditor.documents"})),a?r.a.createElement(me.a,{link:!0},a):null)),!1))},We=t(767),qe=function(e){function a(e,t){var n;return Object(i.a)(this,a),(n=Object(m.a)(this,Object(s.a)(a).call(this,e,t))).open=function(){return n.setState({open:!0})},n.close=function(){return n.setState({open:!1})},n.submitForm=function(e){e.company=n.props.company,n.props.addContact(e),n.setState({open:!1})},n.state={open:!1},n}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.pristine,t=e.submitting,n=e.handleSubmit;return r.a.createElement(fe.a,{open:this.state.open,onOpen:this.open,onClose:this.close,size:"tiny",trigger:r.a.createElement(We.a.Item,{onClick:this.open},r.a.createElement(U.a,{name:"address book"})," ",r.a.createElement(T.b,{icon:!0,labelPosition:"right",id:"interface.addContact"}))},r.a.createElement(fe.a.Header,null,r.a.createElement(U.a,{name:"address book"})," ",r.a.createElement(T.b,{id:"interface.addContact"})),r.a.createElement(fe.a.Content,null,r.a.createElement(Ie.a,{onSubmit:n(this.submitForm)},r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.name"})),r.a.createElement(Re.a,{name:"name",component:xe,type:"text",validate:Te})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"interface.phone"})),r.a.createElement(Re.a,{name:"phone",component:xe,type:"text",validate:Te})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.note"})),r.a.createElement(Re.a,{name:"note",component:"textarea",rows:3})),r.a.createElement(re.a,{type:"submit",icon:!0,labelPosition:"right",positive:!0,disabled:a||t},r.a.createElement(T.b,{id:"editor.save"})," ",r.a.createElement(U.a,{name:"save"})))))}}]),a}(n.Component),Je=Object(E.b)(null,function(e){return{addContact:function(a){return e(function(e){return function(a){return g.a.auth().currentUser.getIdToken(!1).then(function(a){return k.post("contacts",e,{headers:{Authorization:"Bearer "+a}})}).then(function(t){return a(te(X,e.company))})}}(a))}}})(Object(T.h)(Object(Se.a)({form:"Add contact"})(qe))),Ke=function(e){var a=e.company;return r.a.createElement(We.a,{pointing:"top right",item:!0,icon:{name:"wrench",size:"big"}},r.a.createElement(We.a.Menu,null,a.create&&r.a.createElement(We.a.Item,{as:P.a,to:"/r/hubs/add/"+a._id+"/"+a.name},r.a.createElement(U.a,{name:"warehouse"})," ",r.a.createElement(T.b,{id:"interface.addHub"})),r.a.createElement(Je,{company:a._id}),r.a.createElement(We.a.Item,{as:P.a,to:"/r/companies/edit/"+a._id},r.a.createElement(U.a,{name:"edit"})," ",r.a.createElement(T.b,{id:"companyEditor.edit"})),a.isOwner&&r.a.createElement(We.a.Item,{as:P.a,to:"/r/permissions/"+a._id+"/"+a.name},r.a.createElement(U.a,{name:"shield alternate"})," ",r.a.createElement(T.b,{id:"interface.permissions"}))))},Qe=function(e){return r.a.createElement(le.a.Group,{className:"stackable",itemsPerRow:4},e.contacts.map(function(e){return r.a.createElement(ve,{showCompany:!0,key:e._id,contact:e})}))},Xe=function(e){var a=e.company,t=a.CRUD;return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"three wide column middle aligned"},a.logo&&r.a.createElement(ne.a,{size:"medium",src:y+a.logo})),r.a.createElement(He,{photos:a.photos})),r.a.createElement(ce.a,null),a.update&&r.a.createElement(Ke,{company:a}),r.a.createElement(Ve,{company:a,id:a._id,CRUD:t}),r.a.createElement(ce.a,null),r.a.createElement("div",{className:"four column row stackable"},a.hubs&&a.hubs.map(function(e){return r.a.createElement(se,{key:e._id,hub:e})})),a.contacts&&a.contacts.length>0&&r.a.createElement("div",{className:"sixteen wide column"},r.a.createElement(ce.a,null),r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"address book"}),r.a.createElement(A.a.Content,null,r.a.createElement(T.b,{id:"top.contacts"}))),r.a.createElement(Qe,{contacts:a.contacts}))))};var Ye=Me(function(e){var a=e.item;return r.a.createElement(Xe,{company:a})},X),Ze=function(e){return r.a.createElement("div",{className:"eight wide column"},r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.name"})),r.a.createElement(Re.a,{name:"name",component:xe,type:"text",validate:Te})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.note"})),r.a.createElement(Re.a,{name:"note",component:"textarea",rows:3})),r.a.createElement(Re.a,{component:Ue,text:r.a.createElement(T.b,{id:"companyEditor.uploadPhotos"}),icon:"file image",name:"photos"}),r.a.createElement(Re.a,{component:Ue,text:r.a.createElement(T.b,{id:"companyEditor.uploadDocuments"}),icon:"file pdf",name:"documents"}))},$e=function(e){var a=e.match.params.companyId;return r.a.createElement(Fe,{initialValues:{company:a},resource:"hubs"},r.a.createElement(Ze,null))},ea=Me(function(e){var a=e.item;return r.a.createElement(Fe,{resource:"hubs",initialValues:Object(Z.a)({},a,{photos:void 0,documents:void 0})},r.a.createElement(Ze,null))},"hubs"),aa=function(e){return r.a.createElement(r.a.Fragment,null,e.company.address&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"map marker alternate"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"companyEditor.address"})),e.company.address)),e.company.phone&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"phone"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"companyEditor.phone"})),r.a.createElement("a",{href:"tel:"+e.company.phone},e.company.phone))),e.company.email&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"at"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"companyEditor.email"})),r.a.createElement("a",{href:"mailto:"+e.company.email},e.company.email))))},ta=function(e){if(!e.devices||e.devices.length<1)return null;function a(e){return r.a.createElement(me.a.Item,{as:P.a,to:"/r/devices/view/"+e._id,key:e._id},e.name)}var t=e.devices.filter(function(e){return"camera"===e.deviceType}).map(function(e){return a(e)}),n=e.devices.filter(function(e){return"recorder"===e.deviceType}).map(function(e){return a(e)}),c=e.devices.filter(function(e){return"netdev"===e.deviceType}).map(function(e){return a(e)});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(U.a,{name:"record"}),r.a.createElement(me.a,{bulleted:!0,horizontal:!0},t)),r.a.createElement("div",null,r.a.createElement(U.a,{name:"hdd"}),r.a.createElement(me.a,{bulleted:!0,horizontal:!0},n)),r.a.createElement("div",null,r.a.createElement(U.a,{name:"microchip"}),r.a.createElement(me.a,{bulleted:!0,horizontal:!0},c)))},na=function(e){var a=e.hub;return r.a.createElement("div",{className:"eight wide column"},r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"warehouse"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.name"})),a.name)),r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"industry"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.company"})),r.a.createElement(ie.a,{trigger:r.a.createElement(P.a,{to:"/r/companies/view/"+a.company._id},a.company.name),flowing:!0,hoverable:!0},r.a.createElement(aa,{company:a.company})))),a.note&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"sticky note"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.note"})),a.note)),r.a.createElement(ce.a,null),r.a.createElement(ta,{devices:a.devices}))},ra=function(e){var a=e.hub,t=e.create,n=e.update;return r.a.createElement(We.a,{pointing:"top right",item:!0,icon:{name:"wrench",size:"big"}},r.a.createElement(We.a.Menu,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a.Item,{as:P.a,to:"/r/devices/add/camera/"+a._id+"/"+a.name},r.a.createElement(U.a,{name:"record"})," ",r.a.createElement(T.b,{id:"interface.addCamera"})),r.a.createElement(We.a.Item,{as:P.a,to:"/r/devices/add/netdev/"+a._id+"/"+a.name},r.a.createElement(U.a,{name:"microchip"})," ",r.a.createElement(T.b,{id:"interface.addNetDev"})),r.a.createElement(We.a.Item,{as:P.a,to:"/r/devices/add/recorder/"+a._id+"/"+a.name},r.a.createElement(U.a,{name:"hdd"})," ",r.a.createElement(T.b,{id:"interface.addRecorder"}))),n&&r.a.createElement(We.a.Item,{as:P.a,to:"/r/hubs/edit/"+a._id},r.a.createElement(U.a,{name:"edit"})," ",r.a.createElement(T.b,{id:"companyEditor.edit"}))))},ca=t(63),la=t(757),ia=function(){return r.a.createElement(L.a,{active:!0,inline:"centered"})},oa=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(m.a)(this,Object(s.a)(a).call(this,e))).state={show:!1,reply:"",checked:!1},t.handleIssueForm=t.handleIssueForm.bind(Object(ca.a)(Object(ca.a)(t))),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleIssueForm",value:function(e){this.setState({reply:e})}},{key:"render",value:function(){var e=this,a=this.props.intl;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a.Actions,null,r.a.createElement(x.a.Action,{onClick:function(a){return e.setState({show:!e.state.show})}},r.a.createElement(T.b,{id:"interface.reply"}))),this.state.show&&r.a.createElement(Ie.a,{reply:!0},r.a.createElement(Ie.a.TextArea,{onChange:function(a,t){var n=t.value;return e.handleIssueForm(n)}}),r.a.createElement(re.a,{type:"button",onClick:function(){return e.props.sendIssue({reply:e.state.reply,open:!e.state.checked},e.props.issue)},disabled:this.state.reply.length<1,content:a.formatMessage({id:"interface.addReply"}),labelPosition:"left",icon:"edit",primary:!0}),r.a.createElement(la.a,{onChange:function(a,t){return e.setState({checked:t.checked})},label:a.formatMessage({id:"interface.solved"})})))}}]),a}(n.Component),ma=Object(T.h)(oa),sa=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(m.a)(this,Object(s.a)(a).call(this,e))).handleCheckbox=function(e,a){var n=a.checked;return t.setState({collapsed:n})},t.state={issue:"",collapsed:!1},t.handleIssueForm=t.handleIssueForm.bind(Object(ca.a)(Object(ca.a)(t))),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getIssues("hub",this.props.hub._id)}},{key:"handleIssueForm",value:function(e){this.setState({issue:e})}},{key:"render",value:function(){var e=this,a=this.state.collapsed,t=this.props.intl,n=r.a.createElement(r.a.Fragment,null),c=this.props.hub._id,l=this.props.issuesReducer[c]||[];if(this.props.issuesReducer.isIssuesFetching[c])n=r.a.createElement("div",{className:"row"},r.a.createElement(ia,null));else if(this.props.issuesReducer.issuesError[c])n=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"eight wide column center aligned"},r.a.createElement(A.a,{icon:!0},r.a.createElement(U.a,{name:"frown outline"}),"Oops! Something went wrong..."),r.a.createElement(ce.a,null),r.a.createElement("code",null,this.props.issuesReducer.error.toString())));else if(l){var i=l.map(function(t){return r.a.createElement(x.a,{key:t._id},r.a.createElement(x.a.Avatar,{src:t.user.picture}),r.a.createElement(x.a.Content,null,r.a.createElement(x.a.Author,{as:"a"},t.user.name),r.a.createElement(x.a.Metadata,null,r.a.createElement("div",null,r.a.createElement(T.a,{value:t.date})," ",r.a.createElement(T.e,{value:t.date})," (",r.a.createElement(T.d,{value:t.date}),")")),r.a.createElement(x.a.Text,null,t.message),t.open&&r.a.createElement(ma,{issue:t._id,sendIssue:e.props.sendIssue})),r.a.createElement(x.a.Group,{collapsed:a},t.replies.map(function(e){return r.a.createElement(x.a,{key:e._id},r.a.createElement(x.a.Avatar,{src:e.user.picture}),r.a.createElement(x.a.Content,null,r.a.createElement(x.a.Author,{as:"a"},e.user.name),r.a.createElement(x.a.Metadata,null,r.a.createElement("div",null,r.a.createElement(T.a,{value:e.date})," ",r.a.createElement(T.e,{value:e.date})," (",r.a.createElement(T.d,{value:e.date}),")")),r.a.createElement(x.a.Text,null,e.reply)))})))});n=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"sixteen wide column"},r.a.createElement(x.a.Group,{threaded:!0},r.a.createElement(A.a,{as:"h3"},r.a.createElement(U.a,{name:"stethoscope"})," ",r.a.createElement(T.b,{id:"interface.issue"})),r.a.createElement(la.a,{checked:this.state.collapsed,label:t.formatMessage({id:"interface.collapseComments"}),onChange:this.handleCheckbox}),i,r.a.createElement(ce.a,null),this.props.update&&r.a.createElement(Ie.a,{reply:!0},r.a.createElement(Ie.a.TextArea,{onChange:function(a,t){var n=t.value;return e.handleIssueForm(n)}}),r.a.createElement(re.a,{type:"button",content:r.a.createElement(T.b,{id:"interface.addIssue"}),labelPosition:"left",icon:"bug",primary:!0,disabled:this.state.issue.length<1,onClick:function(){return e.props.sendIssue({hub:e.props.hub._id,issue:e.state.issue})}})))))}return n}}]),a}(n.Component),ua=Object(T.h)(Object(E.b)(function(e){return{issuesReducer:e.issuesReducer}},function(e){return{sendIssue:function(a,t){e(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t,n){t(N(!0)),g.a.auth().currentUser.getIdToken(!1).then(function(n){k.post(a?"issues/"+a:"issues/",e,{headers:{Authorization:"Bearer "+n}}).then(function(e){t(N(!1)),t(R("hub",e.data.result.hub))},function(e){return t(j(e))})},function(e){return t(j(e))})}}(a,t))},getIssues:function(a,t){e(R(a,t))}}})(sa)),da=function(e){var a=e.hub,t=a.company;return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"three wide column middle aligned"},t.logo&&r.a.createElement(ne.a,{src:y+t.logo})),r.a.createElement(He,{photos:a.photos})),r.a.createElement(ce.a,null),a.update&&r.a.createElement(ra,{create:a.create,update:a.update,hub:a}),r.a.createElement("div",{className:"row stackable"},r.a.createElement(na,{hub:a}),a.LatLng&&r.a.createElement("div",{className:"eight wide column"},r.a.createElement(V,{defaultCenter:a.LatLng,marker:a.LatLng}))),r.a.createElement(ua,{update:a.update,hub:a})))},pa=Me(function(e){var a=e.item;return r.a.createElement(da,{hub:a})},"hubs"),Ea=t(778),ha=function(e){switch(e){case"camera":return"record";case"recorder":return"hdd";case"netdev":return"microchip";default:return""}},fa=Object(Ea.a)("Editor"),ga=Object(E.b)(function(e){return{deviceType:fa(e,"deviceType")}})(function(e){var a=ha(e.deviceType);return r.a.createElement("div",{className:"eight wide column"},r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.name"})),r.a.createElement(Re.a,{icon:a,iconPosition:"left",name:"name",component:xe,type:"text",validate:Te})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.ip"})),r.a.createElement(Re.a,{icon:"terminal",iconPosition:"left",name:"ip",component:xe,type:"text"})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.serial"})),r.a.createElement(Re.a,{icon:"barcode",iconPosition:"left",name:"serial",component:xe,type:"text"})),"camera"===e.deviceType&&r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.ptz"})),r.a.createElement(Re.a,{name:"ptz",id:"ptz",component:"input",type:"checkbox"})),r.a.createElement(Ie.a.Field,null,r.a.createElement("label",null,r.a.createElement(T.b,{id:"editor.note"})),r.a.createElement(Re.a,{name:"note",component:"textarea",rows:3})),r.a.createElement(Re.a,{component:Ue,text:r.a.createElement(T.b,{id:"companyEditor.uploadPhotos"}),icon:"file image",name:"photos"}))}),ba=function(e){var a=e.match.params.hubId,t=e.match.params.deviceType;return r.a.createElement(Fe,{resource:Y,initialValues:{hub:a,deviceType:t}},r.a.createElement(ga,null))};var va=Me(function(e){var a=e.item;return r.a.createElement(Fe,{resource:Y,initialValues:Object(Z.a)({},a,{photos:void 0,documents:void 0})},r.a.createElement(ga,{deviceType:a.deviceType}))},Y),ya=t(395),ka=function(e){var a=ha(e.device.deviceType);return r.a.createElement("div",{className:"eight wide column"},r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:a}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.name"})),e.device.name)),r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"warehouse"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"common.hub"})),r.a.createElement(P.a,{to:"/r/hubs/view/"+e.device.hub._id},e.device.hub.name))),"camera"===e.device.deviceType&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"expand"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.ptz"})),e.device.ptz?"Yes":"No")),e.device.ip&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"terminal"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.ip"})),e.device.ip," ",r.a.createElement(ya.CopyToClipboard,{text:e.device.ip},r.a.createElement(U.a,{color:"blue",name:"copy outline"})))),e.device.serial&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"barcode"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.serial"})),e.device.serial)),e.device.note&&r.a.createElement(A.a,{as:"h2"},r.a.createElement(U.a,{name:"sticky note"}),r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Subheader,null,r.a.createElement(T.b,{id:"editor.note"})),e.device.note)))},Oa=function(e){var a=e.update,t=e.device;return r.a.createElement(We.a,{pointing:"top right",item:!0,icon:{name:"wrench",size:"big"}},r.a.createElement(We.a.Menu,null,a&&r.a.createElement(We.a.Item,{as:P.a,to:"/r/devices/edit/"+t._id},r.a.createElement(U.a,{name:"edit"})," ",r.a.createElement(T.b,{id:"companyEditor.edit"}))))},Ca=function(e){var a=e.device,t=e.company;return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"three wide column middle aligned"},r.a.createElement(P.a,{to:"/r/companies/view/"+t._id},t.logo?r.a.createElement(ne.a,{src:y+t.logo}):r.a.createElement(A.a,{as:"h1"},t.name))),r.a.createElement(He,{photos:a.photos})),r.a.createElement(ce.a,null),a.update&&r.a.createElement(Oa,{update:a.update,device:a}),r.a.createElement("div",{className:"row stackable"},r.a.createElement(ka,{device:a}),a.LatLng&&r.a.createElement("div",{className:"eight wide column"},r.a.createElement(V,{defaultCenter:a.LatLng,marker:a.LatLng||null})))))},wa=Me(function(e){var a=e.item,t=a.hub.company;return r.a.createElement(Ca,{device:a,company:t})},Y),Na=t(50),ja=t(768),Ia="REQUEST_USERS",Ra="RECEIVE_USERS";function Sa(e){return function(a){return a({type:Ia}),g.a.auth().currentUser.getIdToken(!1).then(function(a){return k.get("users/"+e,{headers:{Authorization:"Bearer "+a}})}).then(function(e){var t;console.log(e),e.data.ok&&a((t=e.data.result,{type:Ra,payload:t}))},function(e){})}}var _a=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(r)))).handleResultSelect=function(e,a){var n=a.result;return t.setState({user:n._id})},t.handleCheckbox=function(e,a){var n=a.label,r=a.checked;t.setState(Object(Na.a)({},n,r))},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props.getUser,t=this.props.postPermissions,n=this.props.users.map(function(e){return{title:e.name,image:e.picture,_id:e._id}}),c=this.props.company;return r.a.createElement("div",{className:"row stackable"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement(A.a,{as:"h4"},"Find user by Id."),r.a.createElement(ja.a,{onSearchChange:function(e,t){var n=t.value;return a(n)},results:n,onResultSelect:this.handleResultSelect})),r.a.createElement("div",{className:"eight wide column"},r.a.createElement(la.a,{label:"create",onChange:this.handleCheckbox}),r.a.createElement(la.a,{label:"read",onChange:this.handleCheckbox}),r.a.createElement(la.a,{label:"update",onChange:this.handleCheckbox}),r.a.createElement(la.a,{label:"delete",onChange:this.handleCheckbox})),r.a.createElement("div",{className:"sixteen wide column center aligned"},r.a.createElement(re.a,{type:"button",onClick:function(){return t(c,e.state.user,{create:e.state.create||!1,read:e.state.read||!1,update:e.state.update||!1,delete:e.state.delete||!1})},icon:!0,labelPosition:"right",positive:!0},r.a.createElement(T.b,{id:"editor.save"})," ",r.a.createElement(U.a,{name:"save"}))))}}]),a}(n.Component),La=Object(E.b)(function(e){return{users:e.permissionsReducer.users}},function(e){return{getUser:function(a){return e(Sa(a))},postPermissions:function(a,t,n){return e(function(e,a,t){return function(n){return g.a.auth().currentUser.getIdToken(!1).then(function(n){return k.post("permissions/",{company:e,user:a,create:t.create,read:t.read,update:t.update,delete:t.delete},{headers:{Authorization:"Bearer "+n}})})}}(a,t,n))}}})(_a),Fa=function(e){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement(La,{company:e.company})))},Aa=function(e){return r.a.createElement(Fa,{company:e.match.params.companyId})},xa="UPDATE_USER",Ta="SET_ERROR",Ua="SET_IS_LOGGED",Pa="SET_DEFAULT_CENTER",Da="SET_USER_ID";function za(e){return{type:Ta,payload:e}}function Ma(e){return{type:Ua,payload:e}}function Ba(e){return{type:Pa,payload:e}}function Ga(){return function(e,a){g.a.auth().signOut().then(function(a){e(Ma(!1))}).catch(function(e){})}}function Ha(){return function(e,a){g.a.auth().currentUser.getIdToken(!1).then(function(a){k.get("users/",{headers:{Authorization:"Bearer "+a}}).then(function(a){var t;e((t=a.data._id,{type:Da,payload:t}))},function(a){e(za(a.toString()))})},function(e){})}}var Va=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserId()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"one column row user"},r.a.createElement("div",{className:"column"},r.a.createElement(ne.a,{src:this.props.userReducer.user.photoURL,centered:!0,size:"tiny"})),r.a.createElement("div",{className:"column center aligned"},r.a.createElement(A.a,{as:"h2"},this.props.userReducer.user.displayName)),r.a.createElement("div",{className:"column center aligned"},"Id: ",this.props.userReducer.userId),r.a.createElement("div",{className:"column right aligned"},r.a.createElement(re.a,{color:"green",type:"button",onClick:function(){return e.props.logout()},icon:!0,labelPosition:"right"},r.a.createElement(T.b,{id:"interface.signOut"}),r.a.createElement(U.a,{name:"sign-out"}))))))}}]),a}(n.Component),Wa=Object(E.b)(function(e){return{userReducer:e.userReducer}},function(e){return{logout:function(){return e(Ga())},getUserId:function(){return e(Ha())}}})(Va),qa=t(758),Ja=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{src:e.imageSrc,size:"small",circular:!0,centered:!0}),r.a.createElement(A.a,{as:"h5"},e.position),r.a.createElement(A.a,null,e.name," ",e.linkedin&&r.a.createElement("a",{href:e.linkedin},r.a.createElement(U.a,{name:"linkedin"})),e.telegram&&r.a.createElement("a",{href:e.telegram},r.a.createElement(U.a,{name:"telegram"}))),r.a.createElement("span",null,"Location: "),r.a.createElement(qa.a,{name:e.flag}),r.a.createElement("span",null,e.location))},Ka=function(e){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement(A.a,{as:"h1",textAlign:"center"},r.a.createElement(T.b,{id:"about_us.title"})),r.a.createElement(T.b,{id:"about_us.description"})))),r.a.createElement(he.a,{divided:!0},r.a.createElement(he.a.Row,null,r.a.createElement(he.a.Column,null,r.a.createElement(A.a,{as:"h3",textAlign:"center"},r.a.createElement(T.b,{id:"about_us.team"})))),r.a.createElement(he.a.Row,{centered:!0},r.a.createElement(he.a.Column,{width:4},r.a.createElement(Ja,{imageSrc:"https://instagram.fiev15-1.fna.fbcdn.net/vp/dd9779b63516ee8b592d577130aeedaf/5CFE67AA/t51.2885-15/e35/s320x320/12142209_1918743445016611_999285338_n.jpg?_nc_ht=instagram.fiev15-1.fna.fbcdn.net",position:"Developer",name:"Artem Trachuk",linkedin:"https://www.linkedin.com/in/artem-trachuk/",telegram:"https://t.me/artem_trachuk",flag:"ua",location:"Odessa, Ukraine"})),r.a.createElement(he.a.Column,{width:4},r.a.createElement(Ja,{imageSrc:"https://instagram.fiev15-1.fna.fbcdn.net/vp/ae1fface2753302001d27f276748c28f/5CDE193E/t51.2885-15/sh0.08/e35/s640x640/36753575_466378133826623_7677412311144857600_n.jpg?_nc_ht=instagram.fiev15-1.fna.fbcdn.net",position:"Translator",name:"\u041c\u0438\u0445\u0430\u0438\u043b \u041f\u043e\u0436\u0430\u0440\u043d\u0438\u043a\u043e\u0432",linkedin:"",telegram:"",flag:"ee",location:"Narva, Estonia"})),r.a.createElement(he.a.Column,{width:4},r.a.createElement(Ja,{imageSrc:"https://react.semantic-ui.com/images/wireframe/square-image.png",position:"Tester",name:"\u041c\u0430\u043a\u0441\u0438\u043c \u0421\u0430\u0435\u043d\u043a\u043e",flag:"ua",location:"Odessa, Ukraine"})))))},Qa=function(){return r.a.createElement(Ka,null)},Xa=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{exact:!0,path:"/",component:Q}),r.a.createElement(h.a,{path:"/r/home",component:Q}),r.a.createElement(h.a,{path:"/r/networks",component:Ee}),r.a.createElement(h.a,{path:"/r/contacts",component:je}),r.a.createElement(h.a,{exact:!0,path:"/r/companies/add",component:ze}),r.a.createElement(h.a,{exact:!0,path:"/r/companies/edit/:id",component:Ge}),r.a.createElement(h.a,{exact:!0,path:"/r/companies/view/:id",component:Ye}),r.a.createElement(h.a,{exact:!0,path:"/r/hubs/add/:companyId/:companyName",component:$e}),r.a.createElement(h.a,{exact:!0,path:"/r/hubs/edit/:id",component:ea}),r.a.createElement(h.a,{exact:!0,path:"/r/hubs/view/:id",component:pa}),r.a.createElement(h.a,{exact:!0,path:"/r/devices/add/:deviceType/:hubId/:hubName",component:ba}),r.a.createElement(h.a,{exact:!0,path:"/r/devices/edit/:id",component:va}),r.a.createElement(h.a,{exact:!0,path:"/r/devices/view/:id",component:wa}),r.a.createElement(h.a,{path:"/r/permissions/:companyId",component:Aa}),r.a.createElement(h.a,{exact:!0,path:"/r/user",component:Wa}),r.a.createElement(h.a,{path:"/r/about_us",component:Qa}))}}]),a}(n.Component),Ya=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"sixteen wide column center aligned"},r.a.createElement(A.a,{as:"h1"},r.a.createElement(U.a,{name:"record",className:"green"})," Monitor PS"),r.a.createElement(A.a,{as:"h4"},"Tool for installed surveillance devices monitoring. We will help you to keep the networks be structured and categorized.")),r.a.createElement("div",{className:"sixteen wide column"},this.props.auth)),r.a.createElement("div",{className:"sixteen wide column"},r.a.createElement("span",null,"share access with co-workers"),r.a.createElement("span",null,"don't rely on multiple text documents, chat history or even your memory"),r.a.createElement("span",null,"track issues"),r.a.createElement("span",null,"all your networks in one place"),r.a.createElement("span",null,"save locations, photos, documents")))}}]),a}(n.Component),Za=t(775),$a=t(769),et=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(r)))).handleItemClick=function(e,a){var n=a.name;return t.setState({activeItem:n})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container",style:{marginBottom:"5vh",marginTop:"3vh"}},r.a.createElement($a.a,{secondary:!0,stackable:!0},r.a.createElement($a.a.Item,null,r.a.createElement(U.a,{name:"record",className:"green"})," ",r.a.createElement("b",null,"Monitor PS")),r.a.createElement($a.a.Item,{as:P.a,to:"/",name:"home",active:"home"===this.props.navigationReducer.currentLink},r.a.createElement(U.a,{name:"home"})," ",r.a.createElement(T.b,{id:"top.home"})),r.a.createElement($a.a.Item,{as:P.a,to:"/r/networks",name:"networks",active:"networks"===this.props.navigationReducer.currentLink},r.a.createElement(U.a,{name:"server"})," ",r.a.createElement(T.b,{id:"top.networks"})),r.a.createElement($a.a.Item,{disabled:!0,as:P.a,to:"/r/iptable",name:"iptable",active:"iptable"===this.props.navigationReducer.currentLink},r.a.createElement(U.a,{name:"terminal"})," ",r.a.createElement(T.b,{id:"interface.iptable"})),r.a.createElement($a.a.Item,{as:P.a,to:"/r/contacts",name:"contacts",active:"contacts"===this.props.navigationReducer.currentLink},r.a.createElement(U.a,{name:"address book"})," ",r.a.createElement(T.b,{id:"top.contacts"})),r.a.createElement($a.a.Item,{disabled:!0,as:P.a,to:"/r/documents",name:"documents",active:"documents"===this.props.navigationReducer.currentLink},r.a.createElement(U.a,{name:"file pdf"})," ",r.a.createElement(T.b,{id:"companyEditor.documents"})),r.a.createElement($a.a.Menu,{position:"right"},this.props.displayName&&r.a.createElement(r.a.Fragment,null,r.a.createElement($a.a.Item,{as:P.a,to:"/r/user"},r.a.createElement(ne.a,{src:this.props.photo,avatar:!0}),this.props.displayName)))))}}]),a}(n.Component),at=Object(T.h)(Object(E.b)(function(e){return{navigationReducer:e.navigationReducer}},function(e){return{setNavigatedLink:function(a){e(_(a))}}})(et)),tt=t(398),nt=t.n(tt),rt=t(399),ct=t.n(rt),lt=t(400),it=t(265),ot=t(401),mt=t.n(ot),st=t(402),ut=t.n(st),dt=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(m.a)(this,Object(s.a)(a).call(this,e))).onLanguageChange=function(e){t.props.changeLanguage(e)},t.onLanguageChange=t.onLanguageChange.bind(Object(ca.a)(Object(ca.a)(t))),t.state={language:e.user.language},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props.intl;return r.a.createElement("div",{className:"ui container",style:{marginTop:"10vh"}},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"three column middle aligned stackable row"},r.a.createElement("div",{className:"three wide column"},r.a.createElement(We.a,{floating:!0,text:a.formatMessage({id:"interface.language"})},r.a.createElement(We.a.Menu,null,r.a.createElement(We.a.Header,null,"America"),r.a.createElement(We.a.Item,{onClick:function(){return e.onLanguageChange("en-US")}},r.a.createElement(qa.a,{name:"us"}),"English (US)"),r.a.createElement(We.a.Header,null,"Europe"),r.a.createElement(We.a.Item,{onClick:function(){return e.onLanguageChange("en-GB")}},r.a.createElement(qa.a,{name:"gb"}),"English (UK)"),r.a.createElement(We.a.Item,{onClick:function(){return e.onLanguageChange("uk")}},r.a.createElement(qa.a,{name:"ua"}),"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"),r.a.createElement(We.a.Header,null,"Asia"),r.a.createElement(We.a.Item,{onClick:function(){return e.onLanguageChange("ru")}},r.a.createElement(qa.a,{name:"ru"}),"\u0420\u0443\u0441\u0441\u043a\u0438\u0439")))),r.a.createElement("div",{className:"ten wide column center aligned"},r.a.createElement(me.a,{bulleted:!0,horizontal:!0,link:!0})),r.a.createElement("div",{className:"three wide column right aligned column"},r.a.createElement("img",{src:ut.a,alt:"Ukraine Now",className:"ukraine_now_logo"})))))}}]),a}(n.Component),pt=Object(T.h)(Object(E.b)(function(e){return{user:e.userReducer}},function(e){return{changeLanguage:function(a){e(function(e){return{type:"CHANGE_LANGUAGE",payload:e}}(a))}}})(dt)),Et=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{exact:!0,path:"/",component:Ya}),r.a.createElement(h.a,{path:"/r/about_us",component:Qa}))},ht=function(e){return r.a.createElement("div",{className:"ui container",style:{marginBottom:"5vh",marginTop:"3vh"}},r.a.createElement($a.a,{secondary:!0,stackable:!0},r.a.createElement($a.a.Item,{as:P.a,to:"/"},r.a.createElement(U.a,{name:"record",className:"green"})," ",r.a.createElement("b",null,"Monitor PS"),r.a.createElement(oe.a,{color:"blue",floating:!0},"beta")),r.a.createElement($a.a.Menu,{position:"right"},r.a.createElement($a.a.Item,null,e.auth))))};g.a.initializeApp({apiKey:"AIzaSyAFo_lb3m4A7-PmXuahyeVD3xhGdCZGJi8",authDomain:"monitor-ps.firebaseapp.com",databaseURL:"https://monitor-ps.firebaseio.com",projectId:"monitor-ps",storageBucket:"monitor-ps.appspot.com",messagingSenderId:"497412012279"}),Object(T.g)([].concat(Object(d.a)(nt.a),Object(d.a)(ct.a)));var ft={uk:lt,"en-US":it,"en-GB":it},gt=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(r)))).state={isSignedIn:!1,hasError:!1},t.uiConfig={signInFlow:"popup",signInOptions:[g.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=g.a.auth().onAuthStateChanged(function(a){e.props.updateUser(a),a&&(e.props.login(),e.props.getDefaultCenterFromUserAgent())})}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"render",value:function(){var e=this.props.userR.user,a=r.a.createElement(r.a.Fragment,null);return this.state.hasError||this.props.userR.error?a=r.a.createElement(J,{error:this.state.hasError||this.props.userR.error}):void 0===e?a=r.a.createElement("div",{className:"ui container"},r.a.createElement(Za.a,{active:!0,inverted:!0},r.a.createElement(L.a,{size:"large"},"Loading"))):null===e?a=r.a.createElement(r.a.Fragment,null,r.a.createElement(ht,{auth:r.a.createElement(mt.a,{uiConfig:this.uiConfig,firebaseAuth:g.a.auth()})}),r.a.createElement(Et,null),r.a.createElement(pt,null)):e&&this.props.userR.isLoggedIn&&(a=r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{displayName:this.props.userR.user.displayName,photo:this.props.userR.user.photoURL,signOut:this.props.logout}),r.a.createElement(Xa,null),r.a.createElement(pt,null))),r.a.createElement(T.f,{textComponent:r.a.Fragment,locale:this.props.userR.language,messages:ft[this.props.userR.language]},r.a.createElement(p.a,null,r.a.createElement(r.a.Fragment,null,a)))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),a}(n.Component),bt=Object(E.b)(function(e){return{userR:e.userReducer}},function(e){return{updateUser:function(a){e({type:xa,payload:a})},login:function(){e(function(e,a){g.a.auth().currentUser.getIdToken(!1).then(function(a){k.get("auth",{headers:{Authorization:"Bearer "+a}}).then(function(a){a.data.ok&&e(Ma(!0))},function(a){e(za(a.toString()))})},function(e){})})},logout:function(){e(Ga())},getDefaultCenterFromUserAgent:function(){e(function(e,a){var t=a().userReducer.language;navigator.geolocation.getCurrentPosition(function(a){e(Ba({lat:a.coords.latitude,lng:a.coords.longitude}))},function(a){switch(t){case"en-GB":e(Ba({lat:51.50078340519703,lng:-.12459538923064883}));break;case"en-US":e(Ba({lat:37.44303269805327,lng:-122.15461939573288}));break;case"uk":e(Ba({lat:50.44956196647267,lng:30.52538046615541}))}})})}}})(gt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vt=t(33);var yt=t(773);var kt=Object(vt.c)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,contacts:[],error:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ke:return Object(Z.a)({},e,{isFetching:!0});case Oe:return Object(Z.a)({},e,{contacts:a.payload,isFetching:!1,error:null});case Ce:return Object(Z.a)({},e,{error:a.payload,isFetching:!1});default:return e}}});var Ot=t(403),Ct=t(404),wt=t.n(Ct),Nt=Object(vt.d)(Object(vt.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{language:localStorage.getItem("Language")||"en-US",user:void 0,error:null,isLoggedIn:!1,defaultCenter:null,userId:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case xa:e=Object(Z.a)({},e,{user:a.payload});break;case Ta:e=Object(Z.a)({},e,{error:a.payload});break;case Ua:e=Object(Z.a)({},e,{isLoggedIn:!0});break;case"CHANGE_LANGUAGE":"undefined"!==typeof Storage&&localStorage.setItem("Language",a.payload),e=Object(Z.a)({},e,{language:a.payload});break;case Pa:e=Object(Z.a)({},e,{defaultCenter:a.payload});break;case Da:e=Object(Z.a)({},e,{userId:a.payload})}return e},dataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1},a=arguments.length>1?arguments[1]:void 0,t=[];switch(a.type){case $:return e[a.resource]?(t=Object(d.a)(e[a.resource]),a.payload.forEach(function(e){var a=t.findIndex(function(a){return a._id===e._id});-1===a?t.push(e):t[a]=Object(Z.a)({},t[a],e)})):t=a.payload,Object(Z.a)({},e,Object(Na.a)({isFetching:!1},a.resource,t));case ee:if(e[a.resource]){var n=(t=Object(d.a)(e[a.resource])).findIndex(function(e){return e._id===a.payload._id});-1===n?t.push(a.payload):t[n]=a.payload}else t.push(a.payload);return Object(Z.a)({},e,Object(Na.a)({isFetching:!1},a.resource,t));case ae:return Object(Z.a)({},e,{isFetching:!0});default:return e}},form:yt.a,issuesReducer:function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isIssuesFetching:{},issuesError:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(Z.a)({},a,{isIssuesFetching:Object(Na.a)({},t.payload,!0)});case C:return Object(Z.a)({},a,{isIssuesFetching:Object(Na.a)({},t.payload.resource,!1),issuesError:Object(Na.a)({},t.payload.resource,t.payload.error)});case w:return Object(Z.a)({},a,(e={isIssuesFetching:Object(Na.a)({},t.payload.resource,!1)},Object(Na.a)(e,t.payload.resource,t.payload.data),Object(Na.a)(e,"issuesError",Object(Na.a)({},t.payload.resource,void 0)),e));default:return a}},navigationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case S:e=Object(Z.a)({},e,{currentLink:a.payload})}return e},contactsReducer:kt,permissionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Ia:return Object(Z.a)({},e);case Ra:return Object(Z.a)({},e,{users:[a.payload]});default:return e}}}),{},Object(vt.a)(Ot.a,wt.a));t(744),t(745);l.a.render(r.a.createElement(E.a,{store:Nt},r.a.createElement(bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[415,1,2]]]);
//# sourceMappingURL=main.0aa9e1cb.chunk.js.map